<!DOCTYPE html>
<html>
  <head>
    <title>Metadata Test Dokument</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles/entities.css" />
    <link rel="stylesheet" href="styles/controls.css" />
  </head>
  <body>
    <div id="controls">
      <form id="form-source">
      <textarea id="html-source"><div itemscope itemtype="TestObject">
  <a href="#test1" itemprop="url"><span itemprop="name">TestObject1</span></a>
  <p itemprop="description">Hallo text</p>
  <p itemprop="description">Hallo Welt</p>
  <p itemprop="description">Hallo Onkel</p>
  <div itemprop="img" itemscope itemtype="Image" itemid="img:test.jpg">
    <img src="test.jpg" itemprop="url" />
    <p itemprop="catption">Caption</p>
    <p itemprop="license" itemscope>
      Licensed under <span itemprop="license">CC-by-sa</span>
    </p>
  </div>
</div>
<address class="vcard">
  <strong class="fn org">Hochschule Fulda</strong>
  <span class="adr">
    <span class="street-address">Marquardstr. 35</span>
    <span class="postal-code">36039</span> <span class="locality">Fulda</span>
    <span class="country-name">Deutschland</span>
  </span>
  Internet: <a class="url" href="http://www.hs-fulda.de">www.hs-fulda.de</a>
</address>

<p vocab="http://schema.org/" prefix="ov: http://open.vocab.org/terms/" resource="#manu" typeof="Person">
   My name is
   <span property="name">Manu Sporny</span>
   and you can give me a ring via
   <span property="telephone">1-800-555-0199</span>.
   <img property="image" src="http://manu.sporny.org/images/manu.png" />
   My favorite animal is the <span property="ov:preferredAnimal">Liger</span>.
</p></textarea>
      <input type="submit" value="Parse HTML" />
      </form>
      <!--form id="form-url">
        <input type="text" id="html-url" value="https://market.android.com/details?id=com.zeptolab.ctr.paid&amp;hl=en" />
        <input type="submit" value="Parse URL" />
      </form-->
    </div>

    <div id="results"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="scripts/metadata.js"></script>
    <script src="scripts/entity.js"></script>
    <script src="scripts/metadata/microdata.js"></script>
    <script src="scripts/metadata/microformat.js"></script>
    <script src="scripts/metadata/microformat/hcard.js"></script>
    <script src="scripts/metadata/rdfa.js"></script>
    <script src="scripts/metadata/head-meta.js"></script>
    <script>
    $(document).ready(function(){
      function parseHTML(html){
        var items = MetaParser.getEntities($(html));
        var results = $('#results')
        results.html("")
        $.each(items, function(){
          results.append(this.inspect());
        })
      }
      $('#form-source').submit(function(e){
        e.preventDefault();
        parseHTML($('<div/>').append($('#html-source').val().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')))
      })
      $('#form-url').submit(function(e){
        e.preventDefault();

        var url = $('#html-url').val()
        console.log(url)
        $.get(url, function(data){
          console.log("LLLLO", data)
          parseHTML(data);
        })
      })
      var w3ctestcases = ["0001", "0006", "0007", "0008", "0009", "0010", "0011", "0012", "0013", "0014", "0015", "0017", "0018", "0019", "0020", "0021", "0023", "0025", "0026", "0027", "0029", "0030", "0031", "0032", "0033", "0034", "0035", "0036", "0037", "0038", "0039", "0040", "0041", "0042", "0046", "0047", "0048", "0049", "0050", "0051", "0052", "0053", "0054", "0055", "0056", "0057", "0058", "0059", "0060", "0061", "0062", "0063", "0064", "0065", "0066", "0067", "0068", "0069", "0070", "0071", "0072", "0073", "0074", "0075", "0076", "0077", "0078", "0079", "0080", "0081", "0082", "0083", "0084", "0085", "0086", "0087", "0088", "0089", "0090", "0091", "0092", "0093", "0094", "0099", "0100", "0101", "0102", "0103", "0104", "0105", "0106", "0107", "0108", "0109", "0110", "0111", "0112", "1001", "", "", "0001", "0006", "0007", "0008", "0009", "0010", "0011", "0012", "0013", "0014", "0015", "0017", "0018", "0019", "0020", "0021", "0023", "0025", "0026", "0027", "0029", "0030", "0031", "0032", "0033", "0034", "0035", "0036", "0037", "0038", "0039", "0040", "0041", "0042", "0046", "0047", "0048", "0049", "0050", "0051", "0052", "0053", "0054", "0055", "0056", "0057", "0058", "0059", "0060", "0061", "0062", "0063", "0064", "0065", "0066", "0067", "0068", "0069", "0070", "0071", "0072", "0073", "0074", "0075", "0076", "0077", "0078", "0079", "0080", "0081", "0082", "0083", "0084", "0085", "0086", "0087", "0088", "0089", "0090", "0091", "0092", "0093", "0094", "0099", "0100", "0101", "0102", "0103", "0104", "0105", "0106", "0107", "0108", "0109", "0110", "0111", "0112", "1001"]
      var w3ctestcasesURL = 'http://www.w3.org/2006/07/SWD/RDFa/testsuite/xhtml1-testcases-20080731/!number.xhtml';

    })
    </script>
  </body>
</html>
