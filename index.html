<!DOCTYPE html>
<html>
  <head>
    <title>Metadata Test Dokument</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles/entities.css" />
    <link rel="stylesheet" href="styles/controls.css" />
  </head>
  <body>
    <div id="controls">
      <form id="form-source">
      <textarea id="html-source"><div itemscope itemtype="TestObject">
  <a href="#test1" itemprop="url"><span itemprop="name">TestObject1</span></a>
  <p itemprop="description">Hallo text</p>
  <p itemprop="description">Hallo Welt</p>
  <p itemprop="description">Hallo Onkel</p>
  <div itemprop="img" itemscope itemtype="Image" itemid="img:test.jpg">
    <img src="test.jpg" itemprop="url" />
    <p itemprop="catption">Caption</p>
    <p itemprop="license" itemscope>
      Licensed under <span itemprop="license">CC-by-sa</span>
    </p>
  </div>
</div>
<address class="vcard">
  <strong class="fn org">Hochschule Fulda</strong>
  <span class="adr">
    <span class="street-address">Marquardstr. 35</span>
    <span class="postal-code">36039</span> <span class="locality">Fulda</span>
    <span class="country-name">Deutschland</span>
  </span>
  Internet: <a class="url" href="http://www.hs-fulda.de">www.hs-fulda.de</a>
</address>

<p vocab="http://schema.org/" prefix="ov: http://open.vocab.org/terms/" resource="#manu" typeof="Person">
   My name is
   <span property="name">Manu Sporny</span>
   and you can give me a ring via
   <span property="telephone">1-800-555-0199</span>.
   <img property="image" src="http://manu.sporny.org/images/manu.png" />
   My favorite animal is the <span property="ov:preferredAnimal">Liger</span>.
</p>
<div itemscope itemtype="http://schema.org/Product">
  <h2 itemprop="name"><a href="http://aeroflott-guitar.com/products/aeroflott-3000" itemprop="url">Aeroflott 3000</a></h2>
  <img src="aeroflott3000.jpg" itemprop="image" />
  <p itemprop="description">
    Die <strong>Aeroflott&nbsp;3000</strong> ist ein vielseitig einsetzbarer Luftgitarre mit einem breiten Klangfülle und nie gehörtem Sound.
  </p>
  <p><strong itemprop="offers" itemscope itemtype="http://schema.org/Offer">Nur <span itemprop="price">489</span> €<meta itemprop="priceCurrency" content="EUR" /></strong></p>
  <meta itemprop="manufacturer" content="Aeroflott, Inc." />
  <meta itemprop="brand" content="Aeroflott" />
</div>
</textarea>
      <input type="submit" value="Parse HTML" />
      </form>
    </div>

    <div id="results"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="scripts/metadata.js"></script>
    <script src="scripts/entity.js"></script>
    <script src="scripts/metadata/microdata.js"></script>
    <script src="scripts/metadata/microformat.js"></script>
    <script src="scripts/metadata/microformat/hcard.js"></script>
    <script src="scripts/metadata/rdfa.js"></script>
    <script src="scripts/metadata/head-meta.js"></script>
    <script>
    $(document).ready(function(){
      function parseHTML(html){
        var items = MetaParser.getEntities($(html));
        var results = $('#results')
        results.html("")
        $.each(items, function(){
          results.append(this.inspect());
        })
      }
      $('#form-source').submit(function(e){
        e.preventDefault();
        parseHTML($('<div/>').append($('#html-source').val().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')))
      })
    })
    </script>
  </body>
</html>
